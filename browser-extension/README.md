# 📚 书签密码同步浏览器扩展

一键保存书签和密码到私有同步服务的浏览器扩展，支持Chrome、Edge、Firefox等主流浏览器。

## ✨ 功能特性

### 🔖 书签管理
- **一键保存**: 点击扩展图标或右键菜单快速保存当前页面
- **智能识别**: 自动提取页面标题和URL
- **分类管理**: 支持文件夹和标签分类
- **批量操作**: 支持批量导入导出

### 🔐 密码管理  
- **自动检测**: 智能识别登录表单
- **安全存储**: AES-256加密存储密码
- **登录提醒**: 表单提交后提示保存密码
- **快速填充**: 一键填充已保存的登录信息

### 🚀 智能功能
- **自动检测**: 页面加载时自动检测登录表单
- **右键菜单**: 右键快速保存书签和密码
- **实时同步**: 与服务端实时同步数据
- **离线缓存**: 支持离线查看已保存数据

## 🛠️ 安装方法

### Chrome/Edge 安装

1. **开发者模式安装**:
   ```bash
   1. 打开 Chrome/Edge 浏览器
   2. 访问 chrome://extensions/ 或 edge://extensions/
   3. 开启"开发者模式"
   4. 点击"加载已解压的扩展程序"
   5. 选择 browser-extension 文件夹
   ```

2. **打包安装**:
   ```bash
   1. 在扩展管理页面点击"打包扩展程序"
   2. 选择 browser-extension 文件夹
   3. 生成 .crx 文件
   4. 拖拽 .crx 文件到扩展管理页面安装
   ```

### Firefox 安装

1. **临时安装**:
   ```bash
   1. 打开 Firefox 浏览器
   2. 访问 about:debugging
   3. 点击"此Firefox"
   4. 点击"临时载入附加组件"
   5. 选择 manifest-firefox.json 文件
   ```

2. **永久安装**:
   ```bash
   1. 将 manifest-firefox.json 重命名为 manifest.json
   2. 使用 web-ext 工具打包: web-ext build
   3. 生成 .xpi 文件
   4. 拖拽到 Firefox 安装
   ```

## 🔧 配置说明

### 服务器配置
扩展默认连接到本地服务器，可在弹窗中修改：
- **默认地址**: `http://localhost:3001`
- **生产地址**: 修改为你的服务器地址

### 功能设置
- **自动检测**: 开启后自动检测页面中的登录表单
- **保存确认**: 开启后保存前会显示确认对话框
- **服务器地址**: 配置后端API服务器地址

## 📱 使用指南

### 首次使用
1. **安装扩展**: 按照上述方法安装扩展
2. **登录账号**: 点击扩展图标，输入用户名密码登录
3. **配置服务器**: 如需要，修改服务器地址
4. **开始使用**: 浏览网页时自动检测或手动保存

### 保存书签
1. **扩展弹窗**: 点击扩展图标 → "保存当前页面为书签"
2. **右键菜单**: 右键页面 → "保存为书签"
3. **自动保存**: 开启自动检测后会显示保存提示

### 保存密码
1. **自动检测**: 登录表单附近会显示"💾 点击保存密码"提示
2. **手动检测**: 点击扩展图标 → "检测并保存密码"
3. **右键保存**: 右键页面 → "保存密码信息"
4. **登录提醒**: 成功登录后会弹出保存密码提示

### 管理数据
1. **打开面板**: 点击扩展图标 → "打开管理面板"
2. **查看数据**: 在Web界面中查看所有书签和密码
3. **编辑删除**: 在Web界面中编辑或删除数据
4. **导入导出**: 支持多种格式的数据导入导出

## 🔒 安全特性

### 数据加密
- **传输加密**: HTTPS传输保护数据安全
- **存储加密**: 密码使用AES-256加密存储
- **本地缓存**: 敏感数据不在浏览器中长期缓存

### 隐私保护
- **私有部署**: 完全私有化部署，数据不上传第三方
- **权限最小化**: 扩展只请求必要的浏览器权限
- **数据隔离**: 用户数据完全隔离，互不干扰

### 访问控制
- **JWT认证**: 使用JWT令牌进行身份验证
- **会话管理**: 自动管理登录会话，过期自动重新登录
- **权限验证**: 每次API调用都验证用户权限

## 🎨 界面预览

### 扩展弹窗
```
┌─────────────────────────────┐
│     📚 书签同步              │
│   已连接 - 用户名            │
├─────────────────────────────┤
│ 📖 保存当前页面为书签        │
│ 🔐 检测并保存密码           │
│ 📊 打开管理面板             │
│ 🔄 立即同步                │
├─────────────────────────────┤
│ ⚙️ 设置                    │
│ □ 自动检测密码表单          │
│ ☑ 保存时显示确认            │
└─────────────────────────────┘
```

### 页面提示
```
登录表单检测:
┌─────────────────┐
│ 💾 点击保存密码  │
└─────────────────┘

保存成功通知:
┌─────────────────┐
│ 📚 书签保存成功！ │
└─────────────────┘
```

## 🔧 开发说明

### 文件结构
```
browser-extension/
├── manifest.json              # Chrome/Edge清单文件
├── manifest-firefox.json      # Firefox清单文件
├── popup.html                # 扩展弹窗界面
├── popup.js                  # 弹窗逻辑
├── background.js             # Chrome后台脚本
├── background-firefox.js     # Firefox后台脚本
├── content.js               # 内容脚本
├── icons/                   # 扩展图标
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   ├── icon128.png
│   └── create-icons.html    # 图标生成器
└── README.md               # 说明文档
```

### API接口
扩展使用以下API接口与后端通信：
- `POST /auth/login` - 用户登录
- `GET /auth/verify` - 验证登录状态
- `POST /bookmarks` - 保存书签
- `POST /passwords` - 保存密码
- `GET /bookmarks` - 获取书签列表
- `GET /passwords` - 获取密码列表

### 消息通信
扩展内部使用消息机制通信：
- `popup.js` ↔ `background.js` - 弹窗与后台通信
- `background.js` ↔ `content.js` - 后台与内容脚本通信
- `content.js` → 页面 - 注入页面通知

## 🚀 部署建议

### 生产环境
1. **修改服务器地址**: 将默认的localhost改为生产服务器地址
2. **启用HTTPS**: 生产环境必须使用HTTPS
3. **权限配置**: 根据需要调整扩展权限
4. **图标优化**: 使用高质量的扩展图标

### 企业部署
1. **内网部署**: 可部署在企业内网环境
2. **SSO集成**: 可集成企业SSO系统
3. **策略管理**: 可通过组策略统一配置
4. **批量安装**: 支持企业批量部署

## 📞 技术支持

### 常见问题
1. **连接失败**: 检查服务器地址和网络连接
2. **登录失败**: 确认用户名密码正确
3. **保存失败**: 检查服务器状态和权限
4. **检测失败**: 确认页面有登录表单

### 故障排除
1. **查看控制台**: F12打开开发者工具查看错误
2. **重新登录**: 清除扩展数据重新登录
3. **重启扩展**: 在扩展管理页面重新加载扩展
4. **检查权限**: 确认扩展有必要的浏览器权限

---

**🌟 享受安全便捷的书签密码管理体验！**