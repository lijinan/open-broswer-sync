<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firefoxæ‰©å±•æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .test-section {
            background: white;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .test-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            border-bottom: 2px solid #1890ff;
            padding-bottom: 8px;
        }
        
        .login-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 400px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .form-label {
            font-weight: 500;
            color: #333;
        }
        
        .form-input {
            padding: 10px 12px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #1890ff;
            box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
        }
        
        .btn {
            padding: 10px 20px;
            background: #1890ff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }
        
        .btn:hover {
            background: #40a9ff;
        }
        
        .test-item {
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #1890ff;
        }
        
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status.success {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }
        
        .status.pending {
            background: #fff7e6;
            color: #fa8c16;
            border: 1px solid #ffd591;
        }
        
        .instructions {
            background: #e6f7ff;
            border: 1px solid #91d5ff;
            border-radius: 4px;
            padding: 16px;
            margin-bottom: 20px;
        }
        
        .instructions h4 {
            margin: 0 0 10px 0;
            color: #1890ff;
        }
        
        .instructions ol {
            margin: 0;
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¦Š Firefoxæ‰©å±•å…¼å®¹æ€§æµ‹è¯•</h1>
        <p>æµ‹è¯•ä¹¦ç­¾å¯†ç åŒæ­¥åŠ©æ‰‹åœ¨Firefoxä¸­çš„åŠŸèƒ½</p>
    </div>

    <div class="instructions">
        <h4>ğŸ“‹ æµ‹è¯•æ­¥éª¤</h4>
        <ol>
            <li>ç¡®ä¿å·²åœ¨Firefoxä¸­å®‰è£…æ‰©å±•ï¼ˆä½¿ç”¨manifest-firefox.jsonï¼‰</li>
            <li>ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œåœ¨ http://localhost:3001</li>
            <li>ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œç™»å½•è´¦æˆ·</li>
            <li>æŒ‰ç…§ä¸‹é¢çš„æµ‹è¯•é¡¹ç›®é€ä¸€éªŒè¯åŠŸèƒ½</li>
            <li>å³é”®ç‚¹å‡»é¡µé¢æµ‹è¯•å³é”®èœå•åŠŸèƒ½</li>
        </ol>
    </div>

    <!-- æµ‹è¯•ç™»å½•è¡¨å• -->
    <div class="test-section">
        <div class="test-title">ğŸ” å¯†ç æ£€æµ‹æµ‹è¯•</div>
        <p>å¡«å†™ä¸‹é¢çš„ç™»å½•è¡¨å•ï¼Œæµ‹è¯•æ‰©å±•çš„å¯†ç æ£€æµ‹åŠŸèƒ½ï¼š</p>
        
        <form class="login-form" id="testLoginForm">
            <div class="form-group">
                <label class="form-label" for="testUsername">ç”¨æˆ·å</label>
                <input type="text" class="form-input" id="testUsername" name="username" placeholder="è¾“å…¥æµ‹è¯•ç”¨æˆ·å">
            </div>
            
            <div class="form-group">
                <label class="form-label" for="testPassword">å¯†ç </label>
                <input type="password" class="form-input" id="testPassword" name="password" placeholder="è¾“å…¥æµ‹è¯•å¯†ç ">
            </div>
            
            <button type="submit" class="btn">ç™»å½•æµ‹è¯•</button>
        </form>
        
        <div class="test-item">
            <strong>é¢„æœŸè¡Œä¸ºï¼š</strong>
            <ul>
                <li>é¡µé¢åŠ è½½æ—¶åº”æ˜¾ç¤º"ğŸ’¾ ç‚¹å‡»ä¿å­˜å¯†ç "æç¤º</li>
                <li>å¡«å†™è¡¨å•åæäº¤åº”å¼¹å‡ºä¿å­˜å¯†ç æç¤º</li>
                <li>ç‚¹å‡»æ‰©å±•å¼¹çª—çš„"æ£€æµ‹å¹¶ä¿å­˜å¯†ç "æŒ‰é’®åº”èƒ½æ£€æµ‹åˆ°è¡¨å•</li>
            </ul>
        </div>
    </div>

    <!-- æµ‹è¯•åŠŸèƒ½æ¸…å• -->
    <div class="test-section">
        <div class="test-title">âœ… åŠŸèƒ½æµ‹è¯•æ¸…å•</div>
        
        <div class="test-item">
            <strong>1. æ‰©å±•åŠ è½½</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>æ£€æŸ¥æ‰©å±•æ˜¯å¦æ­£ç¡®åŠ è½½ï¼Œå›¾æ ‡æ˜¯å¦æ˜¾ç¤ºåœ¨å·¥å…·æ </p>
        </div>
        
        <div class="test-item">
            <strong>2. å¼¹çª—åŠŸèƒ½</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œæ£€æŸ¥å¼¹çª—æ˜¯å¦æ­£å¸¸æ˜¾ç¤º</p>
        </div>
        
        <div class="test-item">
            <strong>3. ç”¨æˆ·ç™»å½•</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>åœ¨å¼¹çª—ä¸­è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œæµ‹è¯•ç™»å½•åŠŸèƒ½</p>
        </div>
        
        <div class="test-item">
            <strong>4. ä¹¦ç­¾ä¿å­˜</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>ç‚¹å‡»"ä¿å­˜å½“å‰é¡µé¢ä¸ºä¹¦ç­¾"æŒ‰é’®ï¼Œæ£€æŸ¥æ˜¯å¦æˆåŠŸä¿å­˜</p>
        </div>
        
        <div class="test-item">
            <strong>5. å¯†ç æ£€æµ‹</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>ç‚¹å‡»"æ£€æµ‹å¹¶ä¿å­˜å¯†ç "æŒ‰é’®ï¼Œæ£€æŸ¥æ˜¯å¦æ£€æµ‹åˆ°ä¸Šé¢çš„è¡¨å•</p>
        </div>
        
        <div class="test-item">
            <strong>6. è®¾ç½®é¡µé¢</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>ç‚¹å‡»"æ‰©å±•è®¾ç½®"æŒ‰é’®ï¼Œæ£€æŸ¥è®¾ç½®é¡µé¢æ˜¯å¦æ­£å¸¸æ‰“å¼€</p>
        </div>
        
        <div class="test-item">
            <strong>7. å³é”®èœå•</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>å³é”®ç‚¹å‡»é¡µé¢ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ‰©å±•ç›¸å…³çš„èœå•é¡¹</p>
        </div>
        
        <div class="test-item">
            <strong>8. è‡ªåŠ¨æ£€æµ‹</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>åˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥æ˜¯å¦è‡ªåŠ¨æ˜¾ç¤ºå¯†ç ä¿å­˜æç¤º</p>
        </div>
        
        <div class="test-item">
            <strong>9. é€šçŸ¥ç³»ç»Ÿ</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>ä¿å­˜ä¹¦ç­¾æˆ–å¯†ç æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºæˆåŠŸé€šçŸ¥</p>
        </div>
        
        <div class="test-item">
            <strong>10. å·¥ä½œæ¨¡å¼</strong>
            <span class="status pending">å¾…æµ‹è¯•</span>
            <p>åœ¨è®¾ç½®é¡µé¢åˆ‡æ¢ä¸åŒå·¥ä½œæ¨¡å¼ï¼Œæµ‹è¯•åŠŸèƒ½å·®å¼‚</p>
        </div>
    </div>

    <!-- æµè§ˆå™¨å…¼å®¹æ€§ä¿¡æ¯ -->
    <div class="test-section">
        <div class="test-title">ğŸŒ æµè§ˆå™¨ä¿¡æ¯</div>
        <div id="browserInfo">
            <p><strong>User Agent:</strong> <span id="userAgent"></span></p>
            <p><strong>æµè§ˆå™¨:</strong> <span id="browserName"></span></p>
            <p><strong>ç‰ˆæœ¬:</strong> <span id="browserVersion"></span></p>
            <p><strong>æ‰©å±•API:</strong> <span id="extensionAPI"></span></p>
        </div>
    </div>

    <!-- è°ƒè¯•ä¿¡æ¯ -->
    <div class="test-section">
        <div class="test-title">ğŸ”§ è°ƒè¯•ä¿¡æ¯</div>
        <div id="debugInfo">
            <p>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·(F12)æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º</p>
            <p>æ‰©å±•ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯å°†æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸­</p>
        </div>
    </div>

    <script>
        // æ˜¾ç¤ºæµè§ˆå™¨ä¿¡æ¯
        document.getElementById('userAgent').textContent = navigator.userAgent;
        
        // æ£€æµ‹æµè§ˆå™¨ç±»å‹
        const isFirefox = navigator.userAgent.includes('Firefox');
        const isChrome = navigator.userAgent.includes('Chrome') && !navigator.userAgent.includes('Edge');
        const isEdge = navigator.userAgent.includes('Edge');
        
        let browserName = 'Unknown';
        if (isFirefox) browserName = 'Firefox';
        else if (isEdge) browserName = 'Edge';
        else if (isChrome) browserName = 'Chrome';
        
        document.getElementById('browserName').textContent = browserName;
        
        // æ£€æµ‹æ‰©å±•API
        let apiStatus = 'Unknown';
        if (typeof browser !== 'undefined' && browser.runtime) {
            apiStatus = 'browser.* (Firefox)';
        } else if (typeof chrome !== 'undefined' && chrome.runtime) {
            apiStatus = 'chrome.* (Chrome/Edge)';
        } else {
            apiStatus = 'No Extension API';
        }
        
        document.getElementById('extensionAPI').textContent = apiStatus;
        
        // è¡¨å•æäº¤å¤„ç†
        document.getElementById('testLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('testUsername').value;
            const password = document.getElementById('testPassword').value;
            
            if (username && password) {
                alert('è¡¨å•æäº¤æˆåŠŸï¼\næ‰©å±•åº”è¯¥æ£€æµ‹åˆ°è¿™ä¸ªç™»å½•æ“ä½œå¹¶æç¤ºä¿å­˜å¯†ç ã€‚');
                
                // æ¨¡æ‹Ÿç™»å½•æˆåŠŸï¼ˆ2ç§’åï¼‰
                setTimeout(() => {
                    console.log('æ¨¡æ‹Ÿç™»å½•æˆåŠŸï¼Œæ‰©å±•åº”è¯¥æ˜¾ç¤ºä¿å­˜å¯†ç æç¤º');
                }, 2000);
            } else {
                alert('è¯·å¡«å†™ç”¨æˆ·åå’Œå¯†ç ');
            }
        });
        
        // è¾“å‡ºè°ƒè¯•ä¿¡æ¯
        console.log('ğŸ¦Š Firefoxæ‰©å±•æµ‹è¯•é¡µé¢å·²åŠ è½½');
        console.log('æµè§ˆå™¨:', browserName);
        console.log('æ‰©å±•API:', apiStatus);
        console.log('å¦‚æœæ‰©å±•æ­£å¸¸å·¥ä½œï¼Œåº”è¯¥èƒ½çœ‹åˆ°ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯');
        
        // æ£€æµ‹æ‰©å±•æ˜¯å¦åŠ è½½
        setTimeout(() => {
            if (typeof extensionAPI !== 'undefined') {
                console.log('âœ… æ‰©å±•APIå…¼å®¹å±‚å·²åŠ è½½');
                console.log('æµè§ˆå™¨ç±»å‹:', extensionAPI.browserInfo);
            } else {
                console.log('âŒ æ‰©å±•APIå…¼å®¹å±‚æœªåŠ è½½ï¼Œè¯·æ£€æŸ¥æ‰©å±•æ˜¯å¦æ­£ç¡®å®‰è£…');
            }
        }, 1000);
    </script>
</body>
</html>