<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šçº§æ–‡ä»¶å¤¹åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            background: #f5f5f5;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .success { background: #d4edda; color: #155724; }
        .info { background: #d1ecf1; color: #0c5460; }
        .warning { background: #fff3cd; color: #856404; }
        .folder-tree {
            background: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #007bff;
            font-family: monospace;
            white-space: pre-line;
        }
        .api-example {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>ğŸ“ å¤šçº§æ–‡ä»¶å¤¹åŠŸèƒ½æµ‹è¯•ç¡®è®¤</h1>
    
    <div class="test-section success">
        <h2>âœ… ä¿®å¤ç¡®è®¤</h2>
        <p><strong>é—®é¢˜ï¼š</strong>ç§»é™¤ <code>type: 'folder'</code> å‚æ•°æ˜¯å¦å½±å“å¤šçº§æ–‡ä»¶å¤¹åŠŸèƒ½ï¼Ÿ</p>
        <p><strong>ç­”æ¡ˆï¼š</strong>å®Œå…¨ä¸å½±å“ï¼Chromeå’ŒFirefoxçš„ä¹¦ç­¾APIéƒ½ä¼šæ ¹æ®æ˜¯å¦æœ‰ <code>url</code> å‚æ•°è‡ªåŠ¨åˆ¤æ–­åˆ›å»ºç±»å‹ã€‚</p>
    </div>

    <div class="test-section info">
        <h2>ğŸ—ï¸ å¤šçº§æ–‡ä»¶å¤¹ç»“æ„æ”¯æŒ</h2>
        <p>ä¿®å¤åä»ç„¶å®Œæ•´æ”¯æŒä»¥ä¸‹æ–‡ä»¶å¤¹ç»“æ„ï¼š</p>
        <div class="folder-tree">åŒæ­¥æ”¶è—å¤¹/
â”œâ”€â”€ å·¥ä½œ/
â”‚   â”œâ”€â”€ å¼€å‘å·¥å…·/
â”‚   â”‚   â”œâ”€â”€ å‰ç«¯æ¡†æ¶/
â”‚   â”‚   â”‚   â”œâ”€â”€ Reactå®˜ç½‘
â”‚   â”‚   â”‚   â””â”€â”€ Vue.jså®˜ç½‘
â”‚   â”‚   â””â”€â”€ åç«¯å·¥å…·/
â”‚   â”‚       â”œâ”€â”€ Node.jsæ–‡æ¡£
â”‚   â”‚       â””â”€â”€ Express.jsæŒ‡å—
â”‚   â””â”€â”€ é¡¹ç›®ç®¡ç†/
â”‚       â”œâ”€â”€ GitHub
â”‚       â””â”€â”€ Jira
â”œâ”€â”€ å­¦ä¹ /
â”‚   â”œâ”€â”€ æŠ€æœ¯åšå®¢/
â”‚   â””â”€â”€ åœ¨çº¿è¯¾ç¨‹/
â””â”€â”€ ä¸ªäºº/
    â”œâ”€â”€ ç¤¾äº¤åª’ä½“/
    â””â”€â”€ è´­ç‰©ç½‘ç«™/</div>
    </div>

    <div class="test-section">
        <h2>ğŸ”§ APIè°ƒç”¨å¯¹æ¯”</h2>
        
        <h3>ä¿®å¤å‰ï¼ˆæœ‰é”™è¯¯ï¼‰ï¼š</h3>
        <div class="api-example">// âŒ Chromeä¸æ”¯æŒtypeå‚æ•°
await extensionAPI.bookmarks.create({
  title: 'å¼€å‘å·¥å…·',
  type: 'folder',  // å¯¼è‡´é”™è¯¯
  parentId: workFolderId
})</div>

        <h3>ä¿®å¤åï¼ˆæ­£ç¡®ï¼‰ï¼š</h3>
        <div class="api-example">// âœ… Chromeå’ŒFirefoxéƒ½æ”¯æŒ
await extensionAPI.bookmarks.create({
  title: 'å¼€å‘å·¥å…·',
  parentId: workFolderId  // è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶å¤¹
})</div>
    </div>

    <div class="test-section info">
        <h2>ğŸ¦Š Firefoxå…¼å®¹æ€§ç¡®è®¤</h2>
        
        <h3>ğŸ“‹ å…¼å®¹æ€§ç‰¹æ€§ï¼š</h3>
        <ul>
            <li>âœ… <strong>ç»Ÿä¸€API</strong>ï¼šbrowser-polyfill.jsæä¾›ä¸€è‡´æ¥å£</li>
            <li>âœ… <strong>å·¥å…·æ è¯†åˆ«</strong>ï¼šè‡ªåŠ¨è¯†åˆ«Chrome(id:'1')å’ŒFirefox(id:'toolbar_____')</li>
            <li>âœ… <strong>Promiseå¤„ç†</strong>ï¼šç»Ÿä¸€å¼‚æ­¥è°ƒç”¨æ–¹å¼</li>
            <li>âœ… <strong>é”™è¯¯å¤„ç†</strong>ï¼šç»Ÿä¸€é”™è¯¯å¤„ç†æœºåˆ¶</li>
        </ul>

        <h3>ğŸ” æµè§ˆå™¨å·®å¼‚å¤„ç†ï¼š</h3>
        <div class="api-example">// è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨ç±»å‹
const isFirefox = typeof browser !== 'undefined' && browser.runtime;
const isChrome = typeof chrome !== 'undefined' && chrome.runtime;

// ç»Ÿä¸€çš„ä¹¦ç­¾å·¥å…·æ IDè·å–
let toolbarNode = tree[0].children.find(child =>
  child.id === 'toolbar_____' ||  // Firefox
  child.id === '1' || child.id === 1  // Chrome
);</div>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª åŠŸèƒ½æµ‹è¯•åœºæ™¯</h2>
        
        <h3>æµ‹è¯•ç”¨ä¾‹1ï¼šåŸºç¡€å¤šçº§æ–‡ä»¶å¤¹</h3>
        <div class="api-example">æœåŠ¡å™¨ä¹¦ç­¾æ•°æ®ï¼š
{
  title: "Reactå®˜ç½‘",
  url: "https://react.dev",
  folder: "åŒæ­¥æ”¶è—å¤¹ > å·¥ä½œ > å¼€å‘å·¥å…· > å‰ç«¯æ¡†æ¶"
}

é¢„æœŸç»“æœï¼š
åŒæ­¥æ”¶è—å¤¹/
â””â”€â”€ å·¥ä½œ/
    â””â”€â”€ å¼€å‘å·¥å…·/
        â””â”€â”€ å‰ç«¯æ¡†æ¶/
            â””â”€â”€ Reactå®˜ç½‘</div>

        <h3>æµ‹è¯•ç”¨ä¾‹2ï¼šå¤æ‚åµŒå¥—ç»“æ„</h3>
        <div class="api-example">å¤šä¸ªä¹¦ç­¾åˆ›å»ºå¤æ‚ç»“æ„ï¼š
- "åŒæ­¥æ”¶è—å¤¹ > A > B > C > ä¹¦ç­¾1"
- "åŒæ­¥æ”¶è—å¤¹ > A > B > D > ä¹¦ç­¾2"  
- "åŒæ­¥æ”¶è—å¤¹ > A > E > ä¹¦ç­¾3"

é¢„æœŸç»“æœï¼š
åŒæ­¥æ”¶è—å¤¹/
â””â”€â”€ A/
    â”œâ”€â”€ B/
    â”‚   â”œâ”€â”€ C/
    â”‚   â”‚   â””â”€â”€ ä¹¦ç­¾1
    â”‚   â””â”€â”€ D/
    â”‚       â””â”€â”€ ä¹¦ç­¾2
    â””â”€â”€ E/
        â””â”€â”€ ä¹¦ç­¾3</div>
    </div>

    <div class="test-section warning">
        <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
        <ul>
            <li><strong>æ–‡ä»¶å¤¹ç¼“å­˜</strong>ï¼šä½¿ç”¨folderMapé¿å…é‡å¤åˆ›å»ºç›¸åŒæ–‡ä»¶å¤¹</li>
            <li><strong>IDç±»å‹å¤„ç†</strong>ï¼šä½¿ç”¨String()è½¬æ¢å¤„ç†Chromeæ•°å­—IDå’ŒFirefoxå­—ç¬¦ä¸²ID</li>
            <li><strong>è·¯å¾„è§£æ</strong>ï¼šæ”¯æŒå¤šç§æ–‡ä»¶å¤¹è·¯å¾„æ ¼å¼</li>
            <li><strong>é”™è¯¯æ¢å¤</strong>ï¼šå•ä¸ªä¹¦ç­¾åˆ›å»ºå¤±è´¥ä¸å½±å“å…¶ä»–ä¹¦ç­¾</li>
        </ul>
    </div>

    <div class="test-section success">
        <h2>ğŸ‰ ç»“è®º</h2>
        <ul>
            <li>âœ… <strong>å¤šçº§æ–‡ä»¶å¤¹åŠŸèƒ½å®Œå…¨ä¿ç•™</strong>ï¼šä¿®å¤ä¸å½±å“ä»»ä½•æ–‡ä»¶å¤¹åŠŸèƒ½</li>
            <li>âœ… <strong>Firefoxå®Œå…¨å…¼å®¹</strong>ï¼šé€šè¿‡å…¼å®¹å±‚å®ç°ä¸€è‡´ä½“éªŒ</li>
            <li>âœ… <strong>APIè°ƒç”¨ä¼˜åŒ–</strong>ï¼šç§»é™¤ä¸å¿…è¦å‚æ•°ï¼Œæé«˜å…¼å®¹æ€§</li>
            <li>âœ… <strong>åŠŸèƒ½å¢å¼º</strong>ï¼šé”™è¯¯å¤„ç†æ›´åŠ å¥å£®</li>
        </ul>
        
        <p><strong>ğŸš€ ç«‹å³å¯ç”¨</strong>ï¼šåœ¨Chromeå’ŒFirefoxä¸­éƒ½èƒ½æ­£å¸¸åˆ›å»ºå¤æ‚çš„å¤šçº§æ–‡ä»¶å¤¹ç»“æ„ï¼</p>
    </div>

    <div class="test-section info">
        <h2>ğŸ”— ç›¸å…³æ–‡ä»¶</h2>
        <ul>
            <li><code>popup.js</code> - ä¸»è¦ä¿®å¤æ–‡ä»¶ï¼ˆcreateLocalBookmarkæ–¹æ³•ï¼‰</li>
            <li><code>browser-polyfill.js</code> - æµè§ˆå™¨å…¼å®¹å±‚</li>
            <li><code>manifest-chrome.json</code> - Chromeæ‰©å±•é…ç½®</li>
            <li><code>manifest-firefox.json</code> - Firefoxæ‰©å±•é…ç½®</li>
            <li><code>Firefoxæ‰©å±•å…¼å®¹æ€§ä¿®å¤è¯´æ˜.md</code> - è¯¦ç»†å…¼å®¹æ€§æ–‡æ¡£</li>
        </ul>
    </div>
</body>
</html>