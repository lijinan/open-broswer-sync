# 密码管理插件测试中心

## 简介

此目录包含用于测试浏览器插件密码管理功能的模拟登录页面。这些页面模拟真实的网站登录场景，用于验证插件的密码检测、保存和自动填充功能。

## 目录结构

```
test/
├── index.html          # 测试中心主页
├── server.js           # 静态文件服务器
├── package.json        # NPM 配置
├── README.md           # 本文件
└── mock-sites/         # 模拟登录页面
    ├── bank-login.html         # 网上银行登录
    ├── email-login.html        # 邮箱服务登录
    ├── ecommerce-login.html    # 电商商城登录
    └── company-portal.html     # 企业OA门户
```

## 快速开始

### 启动测试服务器

```bash
cd test
npm start
```

服务器将在 `http://localhost:3003` 启动

### 访问测试中心

在浏览器中打开: **http://localhost:3003**

## 测试场景说明

### 1. 🏦 网上银行登录

**文件**: `mock-sites/bank-login.html`

**特点**:
- 用户名/卡号 + 密码字段
- 记住用户名选项
- SSL加密提示
- 专业的金融风格界面

**测试重点**:
- 插件对安全级别较高网站的密码检测
- 记住用户名功能的影响

### 2. 📧 邮箱服务登录

**文件**: `mock-sites/email-login.html`

**特点**:
- 邮箱 + 密码标准表单
- 记住我复选框
- 忘记密码链接
- 第三方登录选项（Google, GitHub）

**测试重点**:
- 标准登录表单的检测
- 记住我功能的处理
- 多种登录方式的兼容性

### 3. 🛒 电商商城登录

**文件**: `mock-sites/ecommerce-login.html`

**特点**:
- 手机号/邮箱双输入支持
- 自动登录选项
- 第三方登录（微信、QQ、支付宝）
- 购物车导航栏

**测试重点**:
- 多种输入类型的识别
- 自动登录checkbox的处理
- 促销活动对表单的影响

### 4. 🏢 企业OA门户

**文件**: `mock-sites/company-portal.html`

**特点**:
- 工号/账号登录
- 记住设备选项
- 单点登录(SSO)支持
- 企业级安全提示
- 快捷登录（钉钉、企业微信、飞书）

**测试重点**:
- 内部系统的密码管理
- SSO场景的处理
- 企业级安全要求

## 功能测试清单

在每个模拟登录页面中，验证以下插件功能：

### 🔍 表单检测
- [ ] 插件能自动检测页面中的登录表单
- [ ] 正确识别用户名输入框
- [ ] 正确识别密码输入框
- [ ] 处理多个表单的情况

### 💾 密码保存提示
- [ ] 登录成功后弹出保存提示
- [ ] 提示信息清晰明确
- [ ] 可以选择保存或不保存
- [ ] 可以选择不再次提示

### 📝 自动填充
- [ ] 再次访问页面时自动填充
- [ ] 填充的用户名和密码正确
- [ ] 可以手动触发填充
- [ ] 填充后表单可以正常提交

### 🔑 密码生成
- [ ] 在密码输入框显示生成图标
- [ ] 点击可以生成强密码
- [ ] 生成的密码符合要求
- [ ] 可以自定义密码规则

### 🔒 安全加密
- [ ] 保存的密码经过加密
- [ ] 传输使用安全通道
- [ ] 主密码保护机制
- [ ] 密码不泄露到日志

### 📋 多账号管理
- [ ] 同一网站支持多个账号
- [ ] 可以方便地切换账号
- [ ] 账号列表清晰显示
- [ ] 可以删除已保存的账号

## 使用方法

1. **启动测试服务器**
   ```bash
   cd test
   npm start
   ```

2. **打开测试中心**
   - 访问 http://localhost:3003
   - 查看所有可用的测试场景

3. **选择测试场景**
   - 点击任意测试场景卡片
   - 在新窗口中打开模拟登录页面

4. **测试插件功能**
   - 在登录表单中输入用户名和密码
   - 提交表单
   - 观察插件的响应（保存提示等）
   - 刷新页面验证自动填充功能

5. **查看调试信息**
   - 按F12打开浏览器开发者工具
   - 查看Console标签页的日志输出
   - 每个测试页面都有详细的调试信息

## 开发者提示

### 添加新的测试场景

1. 在 `mock-sites/` 目录下创建新的HTML文件
2. 包含标准的登录表单结构
3. 添加 `autocomplete` 属性辅助插件识别
4. 在页面中输出调试信息
5. 在 `index.html` 中添加对应的卡片

### 调试日志格式

每个测试页面应输出以下格式的日志：

```javascript
console.log('[场景名] 事件描述:', 详细信息);
```

例如：
```javascript
console.log('[银行登录] 用户开始输入密码');
console.log('[银行登录] 表单提交，应触发密码保存提示');
```

### 表单最佳实践

```html
<form id="loginForm">
  <!-- 用户名输入框 -->
  <input type="text"
         name="username"
         autocomplete="username"
         required>

  <!-- 密码输入框 -->
  <input type="password"
         name="password"
         autocomplete="current-password"
         required>

  <!-- 提交按钮 -->
  <button type="submit">登录</button>
</form>
```

## 常见问题

### Q: 为什么模拟页面不会真的提交数据？

A: 这些页面仅用于前端测试，所有表单提交都被JavaScript拦截并显示提示信息，不会发送到任何服务器。

### Q: 如何验证插件是否正常工作？

A:
1. 确保插件已安装并启用
2. 打开浏览器开发者工具查看日志
3. 提交登录表单后应该看到插件的保存提示
4. 刷新页面应该看到自动填充

### Q: 可以自定义测试场景吗？

A: 可以！所有HTML文件都可以修改。你可以：
- 修改表单结构
- 添加新的输入字段
- 改变页面样式
- 添加更多的调试日志

### Q: 服务器端口被占用了怎么办？

A: 修改 `server.js` 中的 `PORT` 变量为其他端口号。

## 技术栈

- **纯静态页面**: HTML + CSS + JavaScript
- **无需构建**: 直接在浏览器中打开
- **跨浏览器兼容**: Chrome, Firefox, Safari, Edge
- **响应式设计**: 支持桌面和移动设备

## 浏览器兼容性

- Chrome/Edge ✅
- Firefox ✅
- Safari ✅
- Opera ✅

需要支持：
- ES6+ JavaScript
- CSS Grid
- Flexbox
- Fetch API (可选)

## 故障排除

### 页面无法打开
- 确保测试服务器正在运行
- 检查端口 3003 是否被占用
- 查看浏览器控制台的错误信息

### 插件无响应
- 确认插件已安装并启用
- 检查插件的权限设置
- 查看插件的调试日志
- 尝试刷新页面

### 自动填充不工作
- 确认之前已保存密码
- 检查输入框的 `autocomplete` 属性
- 尝试手动触发填充（如果插件支持）
- 查看插件设置中的自动填充选项

## 许可证

MIT License - 与主项目保持一致
